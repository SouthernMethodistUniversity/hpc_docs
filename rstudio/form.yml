---
cluster: "slurm_cluster"
form:
  - Rapp
  - environment
  - custom_queue
  - bc_num_hours
  - bc_num_slots
  - bc_num_cores
  - bc_num_gpus
  - bc_num_memory
attributes:
  bc_num_hours:
    value: 24
  bc_num_cores:
    label: "Cores per node"
    value: 1
  bc_num_gpus:
    label: "GPUs per node"
    value: 0
  bc_num_memory:
    label: "Memory"
    help: "Please select the amount of memory (in GB) you need for your job."
    value: 6
  custom_queue:
    label: "Partition"
    help: |
      Please select an [M2 SLURM partition] to submit from the drop-down.
      NOTE: Queues designated with asterisks(*) contain [faculty partner nodes] primarily intended for use by specific faculty and their research groups and as such impose some restrictions, including the possibility of job pre-emption, on jobs submitted by those outside those teams.
      [M2 SLURM partition]: http://faculty.smu.edu/csc/documentation/applications/r.html#types-of-nodes-on-which-r-is-to-run
      [faculty partner nodes]: http://faculty.smu.edu/csc/documentation/about.html#faculty-partner-nodes
    widget: select
    options:
      - [ "development [Max Time: 2 hours]",    "development"    ]
      - [ "htc [Max Time: 24 hours, Maximum Nodes: 1]",            "htc"            ]
      - [ "standard-mem-s [Max Time: 24 hours]", "standard-mem-s" ]
      - [ "standard-mem-m [Max Time: 7 days]", "standard-mem-m" ]
      - [ "standard-mem-l [Max Time: 30 days]", "standard-mem-l" ]
      - [ "medium-mem-1-s [Max Time: 24 hours]", "medium-mem-1-s" ]
      - [ "medium-mem-1-m [Max Time: 7 days]", "medium-mem-1-m" ]
      - [ "medium-mem-1-l [Max Time: 30 days]", "medium-mem-1-l" ]
      - [ "medium-mem-2 [Max Time: 14 days]",   "medium-mem-2"   ]
      - [ "high-mem-1 [Max Time: 14 days]",     "high-mem-1"     ]
      - [ "high-mem-2 [Max Time: 14 days]",     "high-mem-2"     ]
      - [ "mic [Max Time: 14 days]",            "mic"            ]
      - [ "gpgpu-1 [Max Time: 7 days]",        "gpgpu-1"        ]
      - [ "v100x8 [Max Time: 7 days]",         "v100x8"         ]
      - [ "*fp-gpgpu-2 [Max Time: UNLIMITED]",  "fp-gpgpu-2"     ]
      - [ "*fp-gpgpu-3 [Max Time: UNLIMITED]",  "fp-gpgpu-3"     ]
      - [ "*fp-gpgpu-4 [Max Time: UNLIMITED]",  "fp-gpgpu-4"     ]
  Rapp:
    widget: select
    label: "R Version"
    options:
      - [ "3.6.2", "r/3.6.2" ]
      - [ "3.5.2", "r/3.5.2" ]
      - [ "3.4.1", "r/3.4.1-1" ]
      - [ "4.0.2", "r/4.0.2" ]
  environment:
    widget: text_area
    label: "Custom Environment Settings"
    help: |
      Set custom environment variables, module paths via `module use
      <path_to_modules>`, and additional modules via `module load
      <space_separated_list_of_modules>`.

